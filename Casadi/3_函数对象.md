# 函数对象

函数对象通常使用以下语法创建：

```python
f = functionname(name, arguments, ..., [options])
```

**示例**

```python
# 定义符号变量
x = ca.SX.sym('x',2)
y = ca.SX.sym('y')
"""
定义函数:
    输入：符号变量 x,y
    函数运算：[x,ca.sin(y)*x]
    输入输出命名：['x','y'],['r','q']
""" 
f = ca.Function('f',[x,y], \
                [x,ca.sin(y)*x],\
                ['x','y'],['r','q'])
print(f)
```

**调用函数**

1. 按参数顺序传递（位置参数）
    ```python
    r0, q0 = f(1.1,3.3)
    print('r0:',r0)
    print('q0:',q0)
    ```
- 必须严格遵循函数定义时的输入顺序（如先 x 后 y）
- 返回值顺序与函数定义时的输出顺序一致（先 r 后 q）

2. 按参数名称传递（关键字参数）

    ```python
    res = f(y=3.3, x=1.1)
    print("res:", res)  
    ```
- 参数顺序无关，通过名称匹配（更适合多输入场景，避免混淆）
- 返回结果自带键名（默认与输出变量符号名一致），便于索引（如 res['r'] 获取 r 的结果）

**参数维度匹配规则**

1. 行向量与列向量可互换
   
- 函数输入定义为列向量时，可传递同长度行向量（反之亦然），CasADi 会自动适配维度

- 示例：
    若函数 f 的输入 x 定义为 1×1 标量（本质是 1×1 矩阵），传递 1×5 行向量或 5×1 列向量均合法（前提是函数逻辑支持向量输入）
2. 标量参数可适配任意维度

- 无论函数输入定义为多少维矩阵，传递标量参数时，CasADi 会自动将该标量 “扩展” 到输入矩阵的所有元素（即输入矩阵的每个元素都被设置为该标量值）
