# 非线性规划

## 问题描述

求解如下问题

$$
\begin{align}
&\underset {x,y,z}{min} \quad x^2+100z^2\\
&\mathrm{subject~to}\\
&\qquad z+(1-x)^2-y=0
\end{align}
$$

## 符号函数描述NLP问题

```python
x = ca.SX.sym('x')
y = ca.SX.sym('y')
z = ca.SX.sym('z')
"""
NLP 格式 列向量 'x', 函数 `f`, 约束 `g`
"""
nlp = {'x':ca.vertcat(x,y,z), 'f':x**2+100*z**2, 'g':z+(1-x)**2-y}
S = ca.nlpsol('S', 'ipopt', nlp)
print(S)
```

## 求解NLP问题

```python
# x0初值，约束函数上下界均为0，即表示为 0=<g<=0
r = S(x0=[2.5,3.0,0.75],\
      lbg=0, ubg=0)
x_opt = r['x']
print('x_opt: ', x_opt)
```

