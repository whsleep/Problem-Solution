### 1. 点到点的距离
**几何原理**：计算两个点之间的直线距离（欧氏距离）。  
**数学公式**：  
设两点坐标为 $P(x_p, y_p)$ 和 $Q(x_q, y_q)$，距离为：  
$$
d = \sqrt{(x_q - x_p)^2 + (y_q - y_p)^2}
$$  
**应用场景**：点障碍物（`PointObstacle`）与点的距离计算。


### 2. 点到线段的距离
**几何原理**：计算点到线段的最短距离，需判断点在线段上的投影是否在线段范围内。  
**数学公式**：  
设线段由 $A(x_a, y_a)$ 和 $B(x_b, y_b)$ 组成，点为 $P(x_p, y_p)$：  
1. 向量定义：$\vec{AB} = (x_b - x_a, y_b - y_a)$，$\vec{AP} = (x_p - x_a, y_p - y_a)$  
2. 投影参数：$t = \frac{\vec{AP} \cdot \vec{AB}}{\vec{AB} \cdot \vec{AB}}$（点积计算）  
3. 距离计算：  
   - 若 $t \leq 0$（投影在 $A$ 外侧）：$d = \sqrt{(x_p - x_a)^2 + (y_p - y_a)^2}$  
   - 若 $t \geq 1$（投影在 $B$ 外侧）：$d = \sqrt{(x_p - x_b)^2 + (y_p - y_b)^2}$  
   - 否则（投影在线段上）：$d = \sqrt{|\vec{AP}|^2 - t^2 \cdot |\vec{AB}|^2}$  
**应用场景**：点到线段障碍物（`LineObstacle`）、点到多边形边的距离（`PolygonObstacle`）等。

在点到线段的距离计算中：  
- $\vec{AB} \cdot \vec{AB} = |\vec{AB}|^2$（向量与自身的点积等于其模长的平方），代表线段 $AB$ 长度的平方。  
- $\vec{AP} \cdot \vec{AB} = |\vec{AP}| \cdot |\vec{AB}| \cdot \cos\theta$，其中 $\theta$ 是 $\vec{AP}$ 与 $\vec{AB}$ 的夹角。这个值的物理意义是：**向量 $\vec{AP}$ 在向量 $\vec{AB}$ 方向上的投影长度与 $\vec{AB}$ 模长的乘积**。  


因此，投影参数 $t$ 的物理意义是：  
**向量 $\vec{AP}$ 在 $\vec{AB}$ 方向上的投影长度与 $\vec{AB}$ 自身长度的比值**。  

- 当 $t = 0$ 时，投影点与 $A$ 重合；  
- 当 $t = 1$ 时，投影点与 $B$ 重合；  
- 当 $0 < t < 1$ 时，投影点在线段 $AB$ 内部；  
- 当 $t < 0$ 或 $t > 1$ 时，投影点在线段 $AB$ 的延长线上（分别位于 $A$ 或 $B$ 的外侧）。  

通过 $t$ 的值可直接判断点 $P$ 在 $AB$ 方向上的投影位置，进而确定点到线段的最短距离是 **点到投影点的距离** 还是 **点到端点的距离**。


### 3. 线段到线段的距离
**几何原理**：计算两条线段之间的最短距离，需考虑端点到线段的距离及线段公垂线距离（若投影重叠）。  
**数学公式**：  
设线段1为 $A_1B_1$，线段2为 $A_2B_2$，距离为以下4种情况的最小值：  
1. $A_1$ 到 $A_2B_2$ 的距离（点到线段距离，见2）  
2. $B_1$ 到 $A_2B_2$ 的距离  
3. $A_2$ 到 $A_1B_1$ 的距离  
4. $B_2$ 到 $A_1B_1$ 的距离  
5. 若两线段公垂线的垂足分别落在两条线段上，则距离为该公垂线长度  
**应用场景**：线段障碍物（`LineObstacle`）之间的距离、线段到胶囊体轴线的距离（`PillObstacle`）等。


### 4. 点到多边形的距离
**几何原理**：计算点到多边形的最短距离，若点在多边形内则距离为0，否则为点到多边形各边的距离最小值。  
**数学公式**：  
1. 先用**射线法**判断点 $P$ 是否在多边形内（见`PolygonObstacle`的`checkCollision`）：  
   - 从 $P$ 向右作水平射线，统计与多边形边的交点数，奇数为内部（距离0），偶数为外部。  
2. 若在外部，计算 $P$ 到多边形所有边的距离（点到线段距离，见2），取最小值：  
$$
d = \min\{ d(P, E_1), d(P, E_2), ..., d(P, E_n) \} \quad (E_i为多边形边)
$$  
**应用场景**：点到多边形障碍物（`PolygonObstacle`）的距离、多边形机器人足迹与障碍物的距离（`PolygonRobotFootprint`）等。


### 5. 线段到多边形的距离
**几何原理**：计算线段到多边形的最短距离，为线段上所有点到多边形的距离最小值，或多边形各边到线段的距离最小值。  
**数学公式**：  
设线段为 $AB$，多边形边为 $E_1, E_2, ..., E_n$，距离为：  
$$
d = \min\{ d(A, 多边形), d(B, 多边形), d(AB, E_1), d(AB, E_2), ..., d(AB, E_n) \}
$$  
其中 $d(A, 多边形)$ 为点到多边形距离（见4），$d(AB, E_i)$ 为线段到线段距离（见3）。  
**应用场景**：线段机器人足迹（`LineRobotFootprint`）与多边形障碍物的距离等。


### 6. 多边形到多边形的距离
**几何原理**：计算两个多边形之间的最短距离，为两多边形所有边之间的距离最小值。  
**数学公式**：  
设多边形1的边为 $E_1^1, E_2^1, ..., E_m^1$，多边形2的边为 $E_1^2, E_2^2, ..., E_n^2$，距离为：  
$$
d = \min\{ d(E_i^1, E_j^2) \mid i=1..m, j=1..n \}
$$  
其中 $d(E_i^1, E_j^2)$ 为线段到线段距离（见3）。  
**应用场景**：多边形机器人足迹（`PolygonRobotFootprint`）与多边形障碍物的距离等。


### 7. 点到圆的距离
**几何原理**：计算点到圆边界的最短距离，为点到圆心的距离减去圆半径。  
**数学公式**：  
设圆心为 $C(x_c, y_c)$，半径为 $r$，点为 $P(x_p, y_p)$，距离为：  
$$
d = \sqrt{(x_p - x_c)^2 + (y_p - y_c)^2} - r
$$  
**应用场景**：点到圆形障碍物（`CircularObstacle`）的距离、圆形机器人（`CircularRobotFootprint`）与障碍物的距离等。


### 8. 线段到圆的距离
**几何原理**：计算线段到圆边界的最短距离，为线段到圆心的距离减去圆半径。  
**数学公式**：  
设线段为 $AB$，圆心为 $C$，半径为 $r$，线段到圆心的距离为 $d(AB, C)$（见2，点到线段距离），则：  
$$
d = d(AB, C) - r
$$  
**应用场景**：线段到圆形障碍物（`CircularObstacle`）的距离等。


### 9. 点到胶囊体（线段+半径）的距离
**几何原理**：胶囊体可视为线段扩展半径 $r$ 后的区域，点到胶囊体的距离为点到线段的距离减去半径。  
**数学公式**：  
设胶囊体轴线为线段 $AB$，半径为 $r$，点为 $P$，点到线段的距离为 $d(P, AB)$（见2），则：  
$$
d = d(P, AB) - r
$$  
**应用场景**：点到胶囊体障碍物（`PillObstacle`）的距离等。


### 10. 线段到胶囊体的距离
**几何原理**：线段到胶囊体的距离为两线段（胶囊体轴线与目标线段）的距离减去胶囊体半径。  
**数学公式**：  
设胶囊体轴线为 $AB$，半径为 $r$，目标线段为 $CD$，两线段距离为 $d(AB, CD)$（见3），则：  
$$
d = d(AB, CD) - r
$$  
**应用场景**：线段到胶囊体障碍物（`PillObstacle`）的距离等。